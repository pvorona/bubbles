<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Force Layout</title>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-force/1.1.0/d3-force.js"></script>

    <style>
        .circle {
            fill: #D31B26;
            /*animation: a-main 1s;*/
            /*transition: transform .2s;*/
        }

        .main {
        }

        @keyframes a-main {
            from {
                fill: hsla(356, 77%, 90%, .1);
            }
            to {
                fill: #D31B26;
            }
        }
    </style>

    <svg width="1240" height="800">

        <defs>
          <filter id="goo">
              <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="20" />
              <!-- <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 200 -70" result="goo" /> -->
              <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 200 -90" result="goo" />
              <!-- <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 50 -30" result="goo" /> -->
              <feBlend in2="goo" in="SourceGraphic" result="mix" />
          </filter>
        </defs>

        <g style="filter: url(#goo);">
            <circle r="90" class="circle" />
            <circle r="100" class="circle" />
            <circle r="140" class="circle main" />
            <circle r="70" class="circle" />
            <circle r="30" class="circle" />
            <circle r="40" class="circle" />
            <circle r="20" class="circle" />
            <circle r="60" class="circle" />
            <!-- <circle r="5" class="circle" fill="#D31B26" /> -->
            <!-- <circle r="5" class="circle" fill="#D31B26" /> -->
            <!-- <circle r="5" class="circle" fill="#D31B26" /> -->
            <!-- <circle r="5" class="circle" fill="#D31B26" /> -->
            <!-- <circle r="5" class="circle" fill="#D31B26" /> -->
            <!-- <circle r="5" class="circle" fill="#D31B26" /> -->
            <!-- <circle r="5" class="circle" fill="#D31B26" /> -->
            <!-- <circle r="5" class="circle" fill="#D31B26" /> -->
            <!-- <circle r="5" class="circle" fill="#D31B26" /> -->
            <!-- <circle r="5" class="circle" fill="#D31B26" /> -->
            <!-- <circle r="150" class="circle" cx="60" cy="40" fill="#D31B26" /> -->
        </g>
    </svg>
    <script>
        nodes = [
            { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 90},
            { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 100},
            { initX: 1240 / 2, initY: 800 / 2, fx: 1240 / 2, fy: 800 / 2, r: 140},
            { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 70},
            { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 30},
            { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 40},
            { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 20},
            { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 60},
            // { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 5},
            // { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 5},
            // { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 5},
            // { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 5},
            // { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 5},
            // { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 5},
            // { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 5},
            // { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 5},
            // { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 5},
            // { initX: 1240 / 2, initY: 800 / 2, x: 1240 / 2, y: 800 / 2, r: 5},
        ]

        links = [
            { source: 2, target: 0 },
            { source: 2, target: 1 },
            { source: 2, target: 3 },
            { source: 2, target: 4 },
            { source: 2, target: 5 },
            { source: 2, target: 6 },
            { source: 2, target: 7 },
            // { source: 2, target: 8 },
            // { source: 2, target: 9 },
            // { source: 2, target: 10 },
            // { source: 2, target: 11 },
            // { source: 2, target: 12 },
            // { source: 2, target: 13 },
            // { source: 2, target: 14 },
            // { source: 2, target: 15 },
            // { source: 2, target: 16 },
            // { source: 2, target: 17 },
        ]

        var node = d3
            .selectAll('circle')
            .data(nodes)

        var simulation = d3.forceSimulation(nodes)
            .force('center', d3.forceCenter(1240 / 2, 800 / 2))
            // .force("charge", d3.forceManyBody().strength(d => -d.r * 50)) //if many little bubbles
            .force("charge", d3.forceManyBody().strength(-1000))
            // .force("charge", d3.forceManyBody().strength(-5000))
            .force("link", d3.forceLink(links).distance(link => link.source.r + link.target.r + 35))
            // .force("link", d3.forceLink(links).distance(200))
            // .force('collide', d3.forceCollide(d => d.r).strength(2))
            .force('collide', d3.forceCollide(d => d.r))
            // .force("x", d3.forceX())
            // .force("y", d3.forceY())
            .alphaTarget(1)
            .velocityDecay(0.92)
            .on('tick', ticked);

          function ticked () {
            node.attr('transform', d => `translate(${d.x},${d.y})`);
          }

    </script>
</body>
</html>